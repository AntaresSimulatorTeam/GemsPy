# Copyright (c) 2024, RTE (https://www.rte-france.com)
#
# See AUTHORS.txt
#
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.
#
# SPDX-License-Identifier: MPL-2.0
#
# This file is part of the Antares project.
study:
  nodes:
    - id: N
      model: NODE_BALANCE_MODEL

  components:
    - id: D
      model: FIXED_DEMAND
      parameters:
        - name: demand
          type: timeseries
          timeseries: demand-ts
    - id: S
      model: SPI
      parameters:
        - name: cost
          type: constant
          value: 0
    - id: U
      model: UNSP
      parameters:
        - name: cost
          type: constant
          value: 1000
    - id: G1
      model: GEN
      parameters:
        - name: p_max
          type: constant
          value: 1000
        - name: p_min
          type: constant
          value: 700
        - name: cost
          type: constant
          value: 50
        - name: startup_cost
          type: constant
          value: 50
        - name: fixed_cost
          type: constant
          value: 1
        - name: d_min_up
          type: constant
          value: 3
        - name: d_min_down
          type: constant
          value: 10
        - name: nb_units_min
          type: constant
          value: 0
        - name: nb_units_max
          type: constant
          value: 3
        - name: max_failure
          type: constant
          value: 0
        - name: min_generating
          type: constant
          value: 0
        - name: max_generating
          type: constant
          value: 3000
        - name: nb_units_max_min_down_time
          type: constant
          value: 3
    - id: G2
      model: GEN
      parameters:
        - name: p_max
          type: constant
          value: 500
        - name: p_min
          type: constant
          value: 50
        - name: cost
          type: constant
          value: 150
        - name: startup_cost
          type: constant
          value: 20
        - name: fixed_cost
          type: constant
          value: 2
        - name: d_min_up
          type: constant
          value: 4
        - name: d_min_down
          type: constant
          value: 4
        - name: nb_units_min
          type: constant
          value: 0
        - name: nb_units_max
          type: constant
          value: 2
        - name: max_failure
          type: constant
          value: 0
        - name: min_generating
          type: constant
          value: 0
        - name: max_generating
          type: constant
          value: 1000
        - name: nb_units_max_min_down_time
          type: constant
          value: 2
    - id: upper_bound_sum
      model: BC
      parameters:
        - name: upper_bound
          type: constant
          value: 2050


  connections:
      - component1: N
        port_1: balance_port
        component2: D
        port_2: balance_port

      - component1: N
        port_1: balance_port
        component2: G1
        port_2: balance_port

      - component1: N
        port_1: balance_port
        component2: G2
        port_2: balance_port

      - component1: upper_bound_sum
        port_1: balance_port
        component2: G1
        port_2: balance_port

      - component1: upper_bound_sum
        port_1: balance_port
        component2: G2
        port_2: balance_port

      - component1: N
        port_1: balance_port
        component2: U
        port_2: balance_port

      - component1: N
        port_1: balance_port
        component2: S
        port_2: balance_port





